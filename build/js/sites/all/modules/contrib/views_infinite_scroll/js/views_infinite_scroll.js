!function(e){Drupal.behaviors.views_infinite_scroll={attach:function(i,t){if(!e.autopager)return void alert(Drupal.t("Autopager jQuery plugin is not loaded."));var t=t.views_infinite_scroll[0],a="div.view-id-"+t.view_name+".view-display-id-"+t.display,o=e(i).is(a)?e(i):e(i).find(a);if(0!=o.length){e.autopager("destroy");var l=a+" > "+t.content_selector,n=o.find(t.items_selector),r=o.find("> div.item-list "+t.pager_selector),d=a+" "+t.next_selector,s=e(d),c=o.find("div.view-content"),f=t.img_path,u='<div id="views_infinite_scroll-ajax-loader"><img src="'+f+'" alt="loading..."/></div>';if(e(r).hide(),e.autopager({appendTo:l,content:l+" "+t.items_selector,link:d,page:0,autoLoad:!t.manual_load,start:function(){c.after(u)},load:function(i,a){e("div#views_infinite_scroll-ajax-loader").remove(),Drupal.attachBehaviors(this),t.manual_load&&a.page>=t.pager_max&&s.hide()}}),t.manual_load)s.text(t.text),s.click(function(i){i.preventDefault(),e.autopager("load")}),e(r).before(s),s.wrap('<div id="views_infinite_scroll_button" />');else{e(r).hide();var v=e(l).height();do{var p=e(n).filter(":last");if(!(p.offset().top+p.height()<e(document).scrollTop()+e(window).height()))break;p=e(n).filter(":last"),e.autopager("load")}while(e(l).height()>v)}}}}}(jQuery);