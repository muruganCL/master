!function(e){Drupal.behaviors.facetapi={attach:function(e,a){if(a.facetapi)for(var i in a.facetapi.facets)null!=a.facetapi.facets[i].makeCheckboxes&&Drupal.facetapi.makeCheckboxes(a.facetapi.facets[i].id),null!=a.facetapi.facets[i].limit&&Drupal.facetapi.applyLimit(a.facetapi.facets[i])}},Drupal.facetapi={},Drupal.facetapi.applyLimit=function(a){if(a.limit>0&&!e("ul#"+a.id).hasClass("facetapi-processed")){e("ul#"+a.id).addClass("facetapi-processed");var i=a.limit-1;e("ul#"+a.id).find("li:gt("+i+")").hide(),e("ul#"+a.id).filter(function(){return e(this).find("li").length>a.limit}).each(function(){e('<a href="#" class="facetapi-limit-link"></a>').text(Drupal.t(a.showMoreText)).click(function(){return e(this).siblings().find("li:hidden").length>0?(e(this).siblings().find("li:gt("+i+")").slideDown(),e(this).addClass("open").text(Drupal.t(a.showFewerText))):(e(this).siblings().find("li:gt("+i+")").slideUp(),e(this).removeClass("open").text(Drupal.t(a.showMoreText))),!1}).insertAfter(e(this))})}},Drupal.facetapi.Redirect=function(e){this.href=e},Drupal.facetapi.Redirect.prototype.gotoHref=function(){window.location.href=this.href},Drupal.facetapi.makeCheckboxes=function(a){var i=e("#"+a),t=e("a.facetapi-checkbox",i);t.once("facetapi-makeCheckbox").each(Drupal.facetapi.makeCheckbox),t.once("facetapi-disableClick").click(function(e){Drupal.facetapi.disableFacet(i)})},Drupal.facetapi.disableFacet=function(a){a.addClass("facetapi-disabled"),e("a.facetapi-checkbox").click(Drupal.facetapi.preventDefault),e("input.facetapi-checkbox",a).attr("disabled",!0)},Drupal.facetapi.preventDefault=function(e){e.preventDefault()},Drupal.facetapi.makeCheckbox=function(){var a=e(this),i=a.hasClass("facetapi-active");if(i||a.hasClass("facetapi-inactive")){var t=this.id+"--checkbox",c=a.find(".element-invisible").html(),l=e('<label class="element-invisible" for="'+t+'">'+c+"</label>"),f=e('<input type="checkbox" class="facetapi-checkbox" id="'+t+'" />'),p=a.attr("href"),s=new Drupal.facetapi.Redirect(p);f.click(function(e){Drupal.facetapi.disableFacet(a.parents("ul.facetapi-facetapi-checkbox-links")),s.gotoHref()}),i?(f.attr("checked",!0),a.before(l).before(f).hide()):a.before(l).before(f)}}}(jQuery);