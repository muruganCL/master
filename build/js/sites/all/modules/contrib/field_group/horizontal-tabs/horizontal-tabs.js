!function(t){Drupal.behaviors.horizontalTabs={attach:function(a){t(".horizontal-tabs-panes",a).once("horizontal-tabs",function(){var a,i=t(":hidden.horizontal-tabs-active-tab",this).val(),s=t("> fieldset",this);if(0!=s.length){var e=t('<ul class="horizontal-tabs-list"></ul>');if(t(this).wrap('<div class="horizontal-tabs clearfix"></div>').before(e),s.each(function(s){var l=new Drupal.horizontalTab({title:t("> legend",this).text(),fieldset:t(this)});l.item.addClass("horizontal-tab-button-"+s),e.append(l.item),t(this).removeClass("collapsible collapsed").addClass("horizontal-tabs-pane").data("horizontalTab",l),this.id==i&&(a=t(this))}),t("> li:first",e).addClass("first"),t("> li:last",e).addClass("last"),!a){var l=window.location.hash.replace(/[=%;,\/]/g,"");a="#"!==l&&t(l,this).length?t(window.location.hash,this).closest(".horizontal-tabs-pane"):t("> .horizontal-tabs-pane:first",this)}a.length&&a.data("horizontalTab").focus()}})}},Drupal.horizontalTab=function(a){var i=this;t.extend(this,a,Drupal.theme("horizontalTab",a)),this.link.click(function(){return i.focus(),!1}),this.link.keydown(function(a){return 13==a.keyCode?(i.focus(),t("fieldset.horizontal-tabs-pane :input:visible:enabled:first").focus(),!1):void 0}),this.fieldset.drupalGetSummary&&this.fieldset.bind("summaryUpdated",function(){i.updateSummary()}).trigger("summaryUpdated")},Drupal.horizontalTab.prototype={focus:function(){this.fieldset.removeClass("horizontal-tab-hidden").siblings("fieldset.horizontal-tabs-pane").each(function(){var a=t(this).data("horizontalTab");a.fieldset.addClass("horizontal-tab-hidden"),a.item.removeClass("selected")}).end().siblings(":hidden.horizontal-tabs-active-tab").val(this.fieldset.attr("id")),this.item.addClass("selected"),t("#active-horizontal-tab").remove(),this.link.append('<span id="active-horizontal-tab" class="element-invisible">'+Drupal.t("(active tab)")+"</span>")},updateSummary:function(){this.summary.html(this.fieldset.drupalGetSummary())},tabShow:function(){return this.item.removeClass("horizontal-tab-hidden"),this.item.parent().children(".horizontal-tab-button").removeClass("first").filter(":visible:first").addClass("first"),this.fieldset.removeClass("horizontal-tab-hidden"),this.focus(),this},tabHide:function(){this.item.addClass("horizontal-tab-hidden"),this.item.parent().children(".horizontal-tab-button").removeClass("first").filter(":visible:first").addClass("first"),this.fieldset.addClass("horizontal-tab-hidden");var t=this.fieldset.siblings(".horizontal-tabs-pane:not(.horizontal-tab-hidden):first");return t.length&&t.data("horizontalTab").focus(),this}},Drupal.theme.prototype.horizontalTab=function(a){var i={},s=a.fieldset.attr("id");return i.item=t('<li class="horizontal-tab-button" tabindex="-1"></li>').append(i.link=t('<a href="#'+s+'"></a>').append(i.title=t("<strong></strong>").text(a.title))),a.fieldset.drupalGetSummary&&i.link.append(i.summary=t('<span class="summary"></span>')),i}}(jQuery);