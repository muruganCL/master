!function(n){Drupal.behaviors.dateAdmin={},Drupal.behaviors.dateAdmin.attach=function(e,i){var t=n("#edit-field-settings-granularity-hour").once("date-admin");t.length&&new Drupal.dateAdmin.TimezoneHandler(t)},Drupal.dateAdmin={},Drupal.dateAdmin.TimezoneHandler=function(e){this.$checkbox=e,this.$dropdown=n("#edit-field-settings-tz-handling"),this.$timezoneDiv=n(".form-item-field-settings-tz-handling"),this.storeTimezoneHandling(),this.$checkbox.bind("click",n.proxy(this.clickHandler,this)),this.clickHandler()},Drupal.dateAdmin.TimezoneHandler.prototype.clickHandler=function(){this.$checkbox.is(":checked")?this.restoreTimezoneHandlingOptions():this.hideTimezoneHandlingOptions()},Drupal.dateAdmin.TimezoneHandler.prototype.hideTimezoneHandlingOptions=function(){this.storeTimezoneHandling(),this.$dropdown.val("none"),this.$timezoneDiv.hide()},Drupal.dateAdmin.TimezoneHandler.prototype.restoreTimezoneHandlingOptions=function(){var n=this.getTimezoneHandling();this.$dropdown.val(n),this.$timezoneDiv.show()},Drupal.dateAdmin.TimezoneHandler.prototype.storeTimezoneHandling=function(){this._timezoneHandling=this.$dropdown.val()},Drupal.dateAdmin.TimezoneHandler.prototype.getTimezoneHandling=function(){return this._timezoneHandling}}(jQuery);