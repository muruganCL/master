!function(t){Drupal.behaviors.dateSelect={},Drupal.behaviors.dateSelect.attach=function(e,n){var s,a=t(".form-type-date-select").parents("fieldset").once("date");for(s=0;s<a.length;s++)new Drupal.date.EndDateHandler(a[s])},Drupal.date=Drupal.date||{},Drupal.date.EndDateHandler=function(e){this.$widget=t(e),this.$start=this.$widget.find(".form-type-date-select[class$=value]"),this.$end=this.$widget.find(".form-type-date-select[class$=value2]"),0!==this.$end.length&&(this.initializeSelects(),(this.endDateIsBlank()||this.endDateIsSame())&&(this.bindClickHandlers(),this.syncEndDate()))},Drupal.date.EndDateHandler.prototype.initializeSelects=function(){var e,n,s,a,r,i=this.$start.find("select");for(this.selects={},a=0;a<i.length;a++)n=t(i[a]),r=n.attr("id"),s=r.replace("-value-","-value2-"),e=t("#"+s),this.selects[r]={id:r,start:n,end:e}},Drupal.date.EndDateHandler.prototype.endDateIsBlank=function(){var t;for(t in this.selects)if(this.selects.hasOwnProperty(t)&&""!==this.selects[t].end.val())return!1;return!0},Drupal.date.EndDateHandler.prototype.endDateIsSame=function(){var t;for(t in this.selects)if(this.selects.hasOwnProperty(t)&&this.selects[t].end.val()!=this.selects[t].start.val())return!1;return!0},Drupal.date.EndDateHandler.prototype.bindClickHandlers=function(){var t;for(t in this.selects)this.selects.hasOwnProperty(t)&&(this.selects[t].start.bind("click.endDateHandler",this.startClickHandler.bind(this)),this.selects[t].end.bind("focus",this.endFocusHandler.bind(this)))},Drupal.date.EndDateHandler.prototype.startClickHandler=function(t){this.syncEndDate()},Drupal.date.EndDateHandler.prototype.endFocusHandler=function(e){var n;for(n in this.selects)this.selects.hasOwnProperty(n)&&this.selects[n].start.unbind("click.endDateHandler");t(e.target).unbind("focus",this.endFocusHandler)},Drupal.date.EndDateHandler.prototype.syncEndDate=function(){var t;for(t in this.selects)this.selects.hasOwnProperty(t)&&this.selects[t].end.val(this.selects[t].start.val())}}(jQuery),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be fBound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,s=function(){},a=function(){return n.apply(this instanceof s?this:t||window,e.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,a.prototype=new s,a});