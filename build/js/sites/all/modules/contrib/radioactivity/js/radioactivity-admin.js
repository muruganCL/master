!function(t){Drupal.behaviors.radioactivity_admin={attach:function(a,i){t("#edit-half-life, #edit-granularity").bind("change",function(){Drupal.behaviors.radioactivity_admin.plot()});var r=t(document.createElement("div"));r.attr({id:"radioactivity-graph"}),t("#ctools-export-ui-edit-item-form .form-item-granularity").append(r),t("#ctools-export-ui-edit-item-form .form-item-granularity").append("<p>"+Drupal.t("Above is a rough mockup on how the granularity and half life interacts. In the middle of the graph you see an emit.")+"</p>"),this.plot()},plot:function(){data=this.precalculate(),t("#radioactivity-graph").sparkline(data,{type:"bar",height:"100%",width:"100%",tooltipFormat:'<span style="color:{{color}}">&#9679;</span> {{value}} |Â {{offset:tooltips}}'})},precalculate:function(){var a=Array(),i=100,r=100,e=t("#edit-granularity").val(),o=t("#edit-half-life").val(),l=e/3600,n=o/3600,p=Math.round(r/2),d=0,u=n/r;l/=u,u*=10;for(var c=0;r>c;c++){var h=c-1,f=h-h%l+l;c>=f&&(i*=Math.pow(2,-d/n),d=0),d+=u,a[c]=Math.round(100*i)/100,c==p&&(i+=10)}return a}}}(jQuery);