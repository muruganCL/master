Drupal.wysiwyg._openwysiwyg=$,$=jQuery,jQuery.each(WYSIWYG,function(e,i){jQuery.isFunction(i)&&(WYSIWYG[e]=function(){var e=$;$=Drupal.wysiwyg._openwysiwyg;var t=i.apply(this,arguments);return $=e,t})}),WYSIWYG.getEditor=function(e){return Drupal.wysiwyg._openwysiwyg("wysiwyg"+e)},function(e){var i=WYSIWYG.maximize;WYSIWYG.maximize=function(t){var n=e("#toolbar, #admin-menu",Drupal.overlayChild?window.parent.document:document);i.apply(this,arguments),this.maximized[t]?n.hide():n.show()},Drupal.wysiwyg.editor.attach.openwysiwyg=function(e,i,t){t.ImagesDir=t.path+"images/",t.PopupsDir=t.path+"popups/",t.CSSFile=t.path+"styles/wysiwyg.css";var n=new WYSIWYG.Settings;for(var r in t)n[r]=t[r];WYSIWYG.setSettings(i.field,n),WYSIWYG_Core.includeCSS(WYSIWYG.config[i.field].CSSFile),WYSIWYG._generate(i.field,n)},Drupal.wysiwyg.editor.detach.openwysiwyg=function(e,i,t){if("undefined"!=typeof i){var n=WYSIWYG.config[i.field];"undefined"!=typeof n&&(WYSIWYG.updateTextArea(i.field),"serialize"!=t&&(jQuery("#wysiwyg_div_"+i.field).remove(),delete n)),"serialize"!=t&&jQuery("#"+i.field).show()}else jQuery.each(WYSIWYG.config,function(e){WYSIWYG.updateTextArea(e),"serialize"!=t&&(jQuery("#wysiwyg_div_"+e).remove(),delete this,jQuery("#"+e).show())})},Drupal.wysiwyg.editor.instance.openwysiwyg={insert:function(i){e("#wysiwyg"+this.field).contents().find("body").focus(),WYSIWYG.insertHTML(i,this.field)},setContent:function(e){var i=WYSIWYG.getEditorWindow(this.field).document;if(WYSIWYG.config[this.field].ReplaceLineBreaks&&(e=e.replace(/\n\r|\n/gi,"<br />")),WYSIWYG.viewTextMode[this.field]){var t=document.createTextNode(e);i.body.innerHTML="",i.body.appendChild(t)}else i.open(),i.write(e),i.close()},getContent:function(){var e="",i=WYSIWYG.getEditorWindow(this.field).document;if(WYSIWYG.viewTextMode[this.field])if(WYSIWYG_Core.isMSIE)e=i.body.innerText;else{var t=i.body.ownerDocument.createRange();t.selectNodeContents(i.body),e=t.toString()}else e=i.body.innerHTML;return e=WYSIWYG.stripURLPath(this.field,e),e=WYSIWYG_Core.replaceRGBWithHexColor(e),WYSIWYG.config[this.field].ReplaceLineBreaks&&(e=e.replace(/(\r\n)|(\n)/gi,"")),e}}}(jQuery);