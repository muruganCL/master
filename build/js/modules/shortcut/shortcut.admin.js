!function(t){Drupal.behaviors.shortcutDrag={attach:function(e,s){if(Drupal.tableDrag){var r=t("table#shortcuts"),a=0,o=0,n=Drupal.tableDrag.shortcuts;t("> tbody > tr, > tr",r).filter(":visible").filter(":odd").filter(".odd").removeClass("odd").addClass("even").end().end().filter(":even").filter(".even").removeClass("even").addClass("odd").end().end().end().filter(".shortcut-slot-empty").each(function(e){t(this).is(":visible")&&a++,o++}),n.row.prototype.onSwap=function(e){var s=t(r).find("tr").index(t(r).find("tr.shortcut-status-disabled"))-o-2,l=0;t(r).find("tr.shortcut-status-enabled").nextAll(":not(.shortcut-slot-empty)").each(function(t){s>t&&l++});var i=o-l;if(-1==i){var d=t(r).find("tr.shortcut-status-disabled"),u=d.prevAll(":not(.shortcut-slot-empty)").not(t(this.element)).get(0);if(d.after(u),t(u).hasClass("draggable")){var c=new n.row(u,"mouse",!1,0,!0);c.markChanged(),n.rowStatusChange(c)}}else i!=a&&(i>a?(t(".shortcut-slot-empty:hidden:last").show(),a++):(t(".shortcut-slot-empty:visible:last").hide(),a--))},n.onDrop=function(){return n.rowStatusChange(this.rowObject),!0},n.rowStatusChange=function(e){var s=t(e.element).prevAll("tr.shortcut-status").get(0),r=s.className.replace(/([^ ]+[ ]+)*shortcut-status-([^ ]+)([ ]+[^ ]+)*/,"$2"),a=t("select.shortcut-status-select",e.element);a.val(r)},n.restripeTable=function(){t("> tbody > tr:visible, > tr:visible",this.table).filter(":odd").filter(".odd").removeClass("odd").addClass("even").end().end().filter(":even").filter(".even").removeClass("even").addClass("odd")}}}},Drupal.behaviors.newSet={attach:function(e,s){var r=function(){t(this).closest("form").find(".form-item-set .form-type-radio:last input").attr("checked","checked")};t("div.form-item-new input").focus(r).keyup(r)}}}(jQuery);